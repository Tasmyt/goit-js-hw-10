{"mappings":"IAwBAA,EAAe,C,YAhBf,WACI,OAAOC,MAAM,qHACPC,MAAKC,IACH,IAAKA,EAAKC,GAAM,MAAM,IAAIC,MAAMF,EAAKG,YACrC,OAAOH,EAAKI,MAAM,G,kBAG9B,SAAyBC,GAErB,OAAOP,MAAM,wDAAuCO,mFAC9CN,MAAKC,IACH,IAAKA,EAAKC,GAAM,MAAM,IAAIC,MAAMF,EAAKG,YACrC,OAAOH,EAAKI,MAAM,G,GClB9B,MAAME,EAASC,SAASC,cAAc,iBAChCC,EAAgBF,SAASC,cAAc,aACvCE,EAASH,SAASC,cAAc,WAChCG,EAAUJ,SAASC,cAAc,UAwCvC,SAASI,IACLD,EAAQE,UAAUC,OAAO,UACzBJ,EAAOG,UAAUE,IAAI,S,CAzCzBT,EAAOO,UAAUE,IAAI,UACrBJ,EAAQE,UAAUE,IAAI,UAEtBC,QAAQC,IAAI,SAEZX,EAAOY,iBAAiB,UAcxB,SAAkBC,GACd,MAAMd,EAAKc,EAAEC,cAAcC,MAC3BX,EAAOG,UAAUC,OAAO,UACxBjB,EAAIyB,gBAAgBjB,GACfN,MAAMwB,GAAUd,EAAce,UAAyBD,EAOjDE,KAAI,EAACC,IAAEA,EAAKC,QAAS,GAAKC,YAAEA,EAAWC,YAAEA,EAAWC,KAAEA,OAC7D,aAAaJ,0BAA4BI,kBACrCA,oBACDF,iDAEAC,UACFE,KAAK,MAZLhC,MAAK,IAAMW,EAAOG,UAAUE,IAAI,YAChCiB,OAAM,IAAMpB,K,IAnBrBf,EAAIoC,cACClC,MAAMwB,GAAUjB,EAAOkB,UAAwBD,EAQrCE,KAAI,EAACpB,GAACA,EAAEyB,KAAEA,KAAU,kBAAkBzB,KAAMyB,eACtDC,KAAK,MARLhC,MAAK,KACFO,EAAOO,UAAUC,OAAO,UACxBJ,EAAOG,UAAUE,IAAI,SAAS,IAEjCiB,OAAM,IAAMpB","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["\n\n// import axios from \"axios\";\n// axios.defaults.headers.common[\"x-api-key\"] = \"live_XKa66qKxxyiMOdXAIWhnua9NnnDJ9cM4Ra5gNLnpo1gJEnN0YXAxAqy0CRvdBh9j\";\n\nconst BASE_URL = `https://api.thecatapi.com/v1`;\nconst api_key = 'live_XKa66qKxxyiMOdXAIWhnua9NnnDJ9cM4Ra5gNLnpo1gJEnN0YXAxAqy0CRvdBh9j';\n\nfunction fetchBreeds() {\n    return fetch(`${BASE_URL}/breeds?api_key=${api_key}`) \n         .then(resp => {\n            if (!resp.ok) { throw new Error(resp.statusText) }\n            return resp.json()\n    })\n}\nfunction fetchCatByBreed(id) {\n    \n    return fetch(`${BASE_URL}/images/search?breed_ids=${id}&api_key=${api_key}`) \n         .then(resp => {\n            if (!resp.ok) { throw new Error(resp.statusText) }\n            return resp.json()\n    })\n    \n};\nexport default {\n    fetchBreeds,\n    fetchCatByBreed\n};\n\n\n","import './css/styles.css';\nimport API from './cat-api';\nconst markup = document.querySelector('.breed-select');\nconst catInfoMarkup = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errInfo = document.querySelector('.error');\nmarkup.classList.add('hidden');\nerrInfo.classList.add('hidden');\n\nconsole.log('hello');\n\nmarkup.addEventListener('change', onSelect);\nAPI.fetchBreeds()\n    .then((data) => (markup.innerHTML = creatSelect(data)))\n    .then(() => {\n        markup.classList.remove('hidden');\n        loader.classList.add('hidden')\n    })\n    .catch(() => ifCatch());\n\nfunction creatSelect(arr) {\n    return arr.map(({id, name}) => `<option value= ${id}>${name}</option>`)\n    .join('')\n}\n\nfunction onSelect(e) {\n    const id = e.currentTarget.value;\n    loader.classList.remove('hidden');\n    API.fetchCatByBreed(id)\n        .then((data) => (catInfoMarkup.innerHTML = creatCatData(data)))\n        .then(() => loader.classList.add('hidden'))\n        .catch(() => ifCatch());\n    \n}\nfunction creatCatData(arr) {\n    \n    return arr.map(({ url, breeds: {[0]: { description, temperament, name }}}) =>\n        `<img src=\"${url}\" class=\"image\" \"alt=\"${name}\">\n      <h2>${name}</h2>\n      <p>${description}</p>\n      <h3>Temperament: </h3>\n      <p>${temperament}</p>`)\n        .join('');\n}\n\nfunction ifCatch() {\n    errInfo.classList.remove('hidden');\n    loader.classList.add('hidden')\n}\n"],"names":["$6b5f202d1456c0af$export$2e2bcd8739ae039","fetch","then","resp","ok","Error","statusText","json","id","$1f0dc3b9307be026$var$markup","document","querySelector","$1f0dc3b9307be026$var$catInfoMarkup","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$errInfo","$1f0dc3b9307be026$var$ifCatch","classList","remove","add","console","log","addEventListener","e","currentTarget","value","fetchCatByBreed","data","innerHTML","map","url","breeds","description","temperament","name","join","catch","fetchBreeds"],"version":3,"file":"index.38d8c485.js.map"}